{% load static %}
<!DOCTYPE html>
<html lang="tr" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <title>{% block title %}Reminder App{% endblock %}</title>
  <link rel="icon" href="{% static 'images/reminder-icon.png' %}" type="image/x-icon">

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Flatpickr CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/material_blue.css">

  <!-- SweetAlert2 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.12/dist/sweetalert2.min.css" rel="stylesheet">

  <!-- Navbar styles -->
  <link href="{% static 'reminder_app/css/navbar.css' %}" rel="stylesheet" />

  <!-- (Opsiyonel) dashboard/auth-common/login/register css'lerini sayfa özel block'ta ekle -->
  {% block extra_css %}{% endblock %}

  <!-- FOUC engelle: Sayfa paint'ten önce kaydedilmiş temayı uygula -->
  <script>
    (function() {
      try {
        var saved = localStorage.getItem('rmd-theme');
        if (!saved) {
          // sistem temasını varsayılan al
          saved = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        }
        document.documentElement.setAttribute('data-theme', saved);
      } catch (e) {
        // erişilemezse varsayılan light kalsın
      }
    })();
  </script>
</head>
<body>

  {% include "navbar.html" %}

  <div class="container mt-4">
    {% block body %}{% endblock %}
  </div>

  <!-- Vendor JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.12/dist/sweetalert2.all.min.js"></script>

  <!-- Navbar JS (DOM yüklendikten sonra çalışacak) -->
  <script src="{% static 'reminder_app/js/navbar.js' %}"></script>

  {% block js %}{% endblock %}
</body>
</html>
